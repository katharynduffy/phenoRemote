---
title: "pull jornada phenocam data"
author: "K Duffy"
date: "2/20/2020"
output: html_document
---


```{r, silent=TRUE}
library(phenocamapi)
library(plotly)
library(phenocamr)
library(dplyr)
```

Let's start by pulling in a list of PhenoCam sites:



```{r}
phenos=list_rois()
#and let's check the column names:
colnames(phenos)

```

Now let's filter for NEON sites:
```{r}
site_names=c('ibp', 'jernort', 'jerbajada', 'jergrassland', 'jernovel', 'jernwern', 'jersand', 'jershrubland', 'NEON.D14.JORN.DP1.00033', 'NEON.D14.JORN.DP1.00042')
jer=phenos%>%
filter(is.element(phenos$site,site_names))
head(jer)
```

```{r}
n=nrow(jer)
for(i in seq(1, n, by = 1)){
  phenocamr::download_phenocam(
  frequency = 3,
  veg_type = jer$primary_veg_type[i],
  roi_id = jer$roi_id_number,
  site = jer$site[i],
  phenophase = TRUE,
  out_dir = "/Users/kdw223/Research/PostDoc/phenoSynth/Notebooks/greenwave_dacqre/phenocam_data"
  )
}
```

You'll probably only really want the dates, gcc90 and smoothed data?  Not sure so I'll stop here but let me know how else I can help :)